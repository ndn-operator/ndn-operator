apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: routers.named-data.net
spec:
  group: named-data.net
  names:
    categories: []
    kind: Router
    plural: routers
    shortNames:
    - rt
    singular: router
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.online
      name: Online
      type: boolean
    - jsonPath: .status.initialized
      name: Initialized
      type: boolean
    - jsonPath: .spec.prefix
      name: Prefix
      type: string
    - jsonPath: .spec.nodeName
      name: Node
      type: string
    - jsonPath: .spec.cert.name
      name: Certificate
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Router represents a Named Data Networking (NDN) router in Kubernetes
        properties:
          spec:
            properties:
              cert:
                description: |-
                  The certificate for the router.
                  If not specified, the router will be insecure (no certificates)
                nullable: true
                properties:
                  name:
                    description: The name of the certificate, e.g., "router-cert"
                    type: string
                  namespace:
                    description: |-
                      Namespace of the certificate.
                      If not specified, the router's namespace will be used
                    nullable: true
                    type: string
                required:
                - name
                type: object
              nodeName:
                description: The name of the node where the router is running
                type: string
              prefix:
                description: |-
                  The prefix for the router, used for routing and naming conventions.
                  This should be a valid NDN prefix, e.g., "/example/router"
                type: string
            required:
            - nodeName
            - prefix
            type: object
          status:
            nullable: true
            properties:
              conditions:
                description: |-
                  Standard Kubernetes-style conditions for this router
                  - Ready: Initialized && Online && FaceReady
                  - Initialized: init container is complete
                  - Online: router is online
                  - FaceReady: at least one face is present
                  - NeighborsSynced: last neighbor propagation succeeded (informative)
                items:
                  description: Condition contains details for one aspect of the current state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition transitioned from one status to another. This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation that the condition was set based upon. For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date with respect to the current state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating the reason for the condition's last transition. Producers of specific condition types may define expected values and meanings for this field, and whether the values are considered a guaranteed API. The value should be a CamelCase string. This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              initialized:
                default: false
                description: Router init container is complete
                type: boolean
              innerFace:
                description: The internal face URI used for inter-router connectivity (single face)
                nullable: true
                type: string
              innerNeighbors:
                additionalProperties:
                  type: string
                default: {}
                description: 'Map of neighbor routers and their internal face URIs. Key: router name, Value: face URI'
                type: object
              online:
                default: false
                description: Router is online and ready to serve
                type: boolean
              outerNeighbors:
                additionalProperties:
                  type: string
                default: {}
                description: 'Map of external neighbors from Neighbor resources. Key: Neighbor name, Value: face URI'
                type: object
            type: object
        required:
        - spec
        title: Router
        type: object
    served: true
    storage: true
    subresources:
      status: {}
